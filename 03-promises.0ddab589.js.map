{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,WAAYF,SAASC,cAAc,kBACnCE,UAAWH,SAASC,cAAc,iBAClCG,YAAaJ,SAASC,cAAc,oBAkBtCH,EAAKC,KAAKM,iBAAiB,UAAUC,IACnCA,EAAMC,iBAEN,MAAMC,EAAaC,OAAOX,EAAKI,WAAWQ,OACpCC,EAAYF,OAAOX,EAAKK,UAAUO,OAClCE,EAAcH,OAAOX,EAAKM,YAAYM,OAE5C,IAAIG,EAAU,EACVC,EAAW,EACXC,EAAQP,EAERQ,EAAUC,aAAY,KA1B5B,IAAuBC,EAAUC,EA2B1BN,IAAYD,IA3BIM,EA+BLJ,EA/BeK,EA+BLJ,EA9BnB,IAAIK,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,GACFF,EAAQ,C,SAAEH,E,MAAUC,IAGtBG,EAAO,C,SAAEJ,E,MAAUC,GAAQ,GAE1BA,EAAM,KAqBNQ,MAAK,EAACT,SAAEA,EAAQC,MAAEA,MACjBS,EAAAhC,GAASiC,OAAOC,QAAQ,uBAAqBZ,QAAiBC,MAAU,IAEzEY,OAAM,EAACb,SAAEA,EAAQC,MAAEA,MAClBS,EAAAhC,GAASiC,OAAOG,QAAQ,sBAAoBd,QAAeC,MAAU,IAGzEN,GAAW,EACXC,GAAY,EACZC,GAASJ,GAbPsB,cAAcjB,EAaE,GACjBL,EAAU","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from \"notiflix\";\n\nconst refs = {\n  form: document.querySelector(\".form\"),\n  delayInput: document.querySelector(\"[name='delay']\"),\n  stepInput: document.querySelector(\"[name='step']\"),\n  amountInput: document.querySelector(\"[name='amount']\")\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      }\n\n      reject({ position, delay });\n\n    }, delay);\n  })\n}\n\nrefs.form.addEventListener(\"submit\", event => {\n  event.preventDefault();\n\n  const delayValue = Number(refs.delayInput.value);\n  const stepValue = Number(refs.stepInput.value);\n  const amountValue = Number(refs.amountInput.value);\n\n  let counter = 0;\n  let position = 1;\n  let delay = delayValue;\n\n  let timerId = setInterval(() => {\n    if(counter === amountValue) {\n      clearInterval(timerId);\n      return;\n    }\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n\n    counter += 1;\n    position += 1;\n    delay += stepValue;\n  }, stepValue);\n})"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","delayInput","stepInput","amountInput","addEventListener","event","preventDefault","delayValue","Number","value","stepValue","amountValue","counter","position1","delay1","timerId","setInterval","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","then","$parcel$interopDefault","Notify","success","catch","failure","clearInterval"],"version":3,"file":"03-promises.0ddab589.js.map"}